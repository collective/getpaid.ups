<metal:page use-macro="context/@@getpaid-content-template/macros/content_space"
	i18n:domain="plonegetpaid">
  <metal:block fill-slot="getpaid_content">
    <h3 i18n:translate="heading_checkout"> Checkout </h3>
  <form action="."
        tal:attributes="action request/URL"
        method="post"
        enctype="multipart/form-data">

    <div class="hidden_fields"
         tal:content="structure view/hidden_inputs"> </div>

    <div class="portalMessage" tal:content="view/status" tal:condition="view/status"> </div>
<fieldset tal:define="shippingMethods view/getShippingMethods">
<legend i18n:translate=""> Select UPS shipping rate: </legend>
    <br/>
            <tal:loop tal:repeat="sM shippingMethods">
                <label tal:define="toDisplay python:sM.service_code + ' ' + sM.service + ' ' + str(sM.currency) + str(sM.cost)" tal:attributes="for sM/service_code" tal:content="toDisplay" >Here the label for the shipping method </label>
                <input tal:condition="python:sM.service_code != shippingMethods[0].service_code" type="radio"  name="shipping_rate"  tal:attributes="value sM/service_code; onclick python:'document.getElementById(\'shipping_price\').value='+str(sM.cost)" />  
                <input tal:condition="python:sM.service_code == shippingMethods[0].service_code" type="radio"  name="shipping_rate"  tal:attributes="value sM/service_code; onclick python:'document.getElementById(\'shipping_price\').value='+str(sM.cost)" checked />
                <br />
            </tal:loop>
            <input tal:attributes="value python:shippingMethods[0].cost" type="hidden" id="shipping_price" value="cost" name="shipping_price"/>

</fieldset>

 

   <br/><br/>
      <div id="actionsView">
        <span class="actionButtons"
          tal:condition="view/availableActions">
  <!-- action/render doesn't handle i18n translations (fix)
    <input tal:repeat="action view/actions"
           tal:replace="structure action/render"
           />
  -->
      <tal:loop tal:repeat="action view/availableActions">
        <input type="submit" class="button context"
               id="" name="" value=""
               tal:attributes="id action/__name__;
                               name action/__name__;
                               value python:str(action.label);"
               i18n:attributes="value" />
      </tal:loop>
        </span>
      </div>
</form> 
  <metal:legal use-macro="context/@@legal-disclaimers-links/links" />

  </metal:block>
</metal:page>
